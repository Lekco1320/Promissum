<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:ctrl="clr-namespace:Lekco.Wpf.Control">

    <Style TargetType="{x:Type DatePicker}">

        <Setter Property="CalendarStyle"
                Value="{DynamicResource {x:Type Calendar}}" />

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type DatePicker}">

                    <Grid x:Name="PART_Root">

                        <StackPanel Orientation="Horizontal">

                            <TextBox x:Name="PART_TextBox"
                                     MinWidth="75"
                                     IsReadOnly="True"
                                     Text="{TemplateBinding Text}" />

                            <ctrl:IconButton x:Name="PART_Button"
                                             VerticalAlignment="Center"
                                             IconData="M9,10H7V12H9V10M13,10H11V12H13V10M17,10H15V12H17V10M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V8H19V19Z" />

                        </StackPanel>

                        <Popup x:Name="PART_Popup"
                               AllowsTransparency="True"
                               Focusable="False"
                               IsOpen="{TemplateBinding IsDropDownOpen}"
                               Placement="Bottom"
                               PopupAnimation="Fade"
                               VerticalOffset="3">

                            <ContentPresenter />

                        </Popup>

                    </Grid>

                </ControlTemplate>
            </Setter.Value>
        </Setter>

    </Style>

</ResourceDictionary>